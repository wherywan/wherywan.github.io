import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as c,c as o,a as s,b as n,d as l,e}from"./app-hoN0JGLf.js";const r={},t=e(`<h1 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>linux</span></a></h1><h2 id="命令" tabindex="-1"><a class="header-anchor" href="#命令"><span>命令</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#008000;"># 多命令</span></span>
<span class="line"><span style="color:#795E26;">ls</span><span style="color:#000000;">;</span><span style="color:#795E26;">ls</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;">#查看文件位置</span></span>
<span class="line"><span style="color:#795E26;">find</span><span style="color:#A31515;"> /</span><span style="color:#0000FF;"> -name</span><span style="color:#A31515;"> &quot;my.cnf&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="用户、组、权限" tabindex="-1"><a class="header-anchor" href="#用户、组、权限"><span>用户、组、权限</span></a></h3><ul><li>组名称在 /etc/group 文件中，这是一个存储系统中所有组信息的文本文件。每行代表一个组，格式为 groupname:password:GID:list_of_members 如 hj❌1000:</li><li>用户信息在 /etc/passwd中 格式为 用户名:密码:用户标识号:主组标识:用户信息:用户家目录:/bin/bash(登录shell路径) 如 hj❌1000:1000::/home/hj:/bin/bash</li></ul><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#008000;"># 文件夹及文件添加权限</span></span>
<span class="line"><span style="color:#008000;"># -u -g -o   rwx   777</span></span>
<span class="line"><span style="color:#795E26;">chmod</span><span style="color:#0000FF;"> -R</span><span style="color:#098658;"> 777</span><span style="color:#A31515;"> /test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">useradd</span><span style="color:#0000FF;"> -u</span><span style="color:#098658;"> 1001</span><span style="color:#0000FF;"> -G</span><span style="color:#A31515;"> root</span><span style="color:#A31515;"> hj</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># 改变文件或文件夹用户及所属组</span></span>
<span class="line"><span style="color:#795E26;">chown</span><span style="color:#0000FF;"> -R</span><span style="color:#A31515;"> 1001:root</span><span style="color:#A31515;"> /test</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编译相关命令" tabindex="-1"><a class="header-anchor" href="#编译相关命令"><span>编译相关命令</span></a></h3>`,7),d={href:"https://blog.csdn.net/ll15982534415/article/details/107445875",target:"_blank",rel:"noopener noreferrer"},v=e(`<h3 id="free" tabindex="-1"><a class="header-anchor" href="#free"><span>free</span></a></h3><ol><li><p>free -m 查看内存</p></li><li><p>free：系统真正的剩余内存</p></li><li><p>available：系统可以提供给程序使用的剩余内存，available粗略为free + buff + cache</p></li><li><p>cache：页面缓存，比如执行&quot;ls -l&quot;命令第一次后，操作系统会将结果进行缓存，再次执行&quot;ls -l&quot;，操作系统直接从页面缓存获取</p></li><li><p>buff：磁盘缓冲区，用于暂缓内存数据，以便稍后一次性刷入磁盘。</p></li></ol><h3 id="根据端口查看服务" tabindex="-1"><a class="header-anchor" href="#根据端口查看服务"><span>根据端口查看服务</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">netstat</span><span style="color:#0000FF;"> -anp</span><span style="color:#000000;"> | </span><span style="color:#795E26;">grep</span><span style="color:#A31515;"> 端口号</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">netstat</span><span style="color:#0000FF;"> -anp</span><span style="color:#000000;">|</span><span style="color:#795E26;">grep</span><span style="color:#A31515;"> :25</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">ls</span><span style="color:#0000FF;"> -l</span><span style="color:#A31515;"> /proc/9293</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="解压" tabindex="-1"><a class="header-anchor" href="#解压"><span>解压</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">tar</span><span style="color:#0000FF;"> -zxvf</span><span style="color:#A31515;"> 压缩文件</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置环境变量" tabindex="-1"><a class="header-anchor" href="#设置环境变量"><span>设置环境变量</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">vi</span><span style="color:#A31515;"> /etc/profile</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># 追加环境变量</span></span>
<span class="line"><span style="color:#0000FF;">export</span><span style="color:#001080;"> NODE_HOME</span><span style="color:#000000;">=/</span><span style="color:#001080;">usr</span><span style="color:#000000;">/</span><span style="color:#001080;">local</span><span style="color:#000000;">/文件夹名</span></span>
<span class="line"><span style="color:#0000FF;">export</span><span style="color:#001080;"> PATH</span><span style="color:#000000;">=</span><span style="color:#001080;">$PATH</span><span style="color:#000000;">:</span><span style="color:#001080;">$NODE_HOME</span><span style="color:#000000;">/</span><span style="color:#001080;">bin</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;">#使变量立即生效</span></span>
<span class="line"><span style="color:#795E26;">source</span><span style="color:#A31515;"> /etc/profile</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sed" tabindex="-1"><a class="header-anchor" href="#sed"><span>sed</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">sed</span><span style="color:#0000FF;"> -i</span><span style="color:#A31515;"> &#39;s/8.0.19/latest/g&#39;</span><span style="color:#A31515;"> ./db/Dockerfile</span></span>
<span class="line"><span style="color:#008000;"># s 替换, 单独使用替换每行的第一个</span></span>
<span class="line"><span style="color:#008000;"># g 替换所有</span></span>
<span class="line"><span style="color:#008000;"># -i 立即修改</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ln" tabindex="-1"><a class="header-anchor" href="#ln"><span>ln</span></a></h3><p>用于建立软链接，类似快捷方式</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">ln</span><span style="color:#0000FF;"> -sf</span><span style="color:#A31515;"> 实体文件</span><span style="color:#A31515;"> 软链接文件</span></span>
<span class="line"><span style="color:#795E26;">-s</span><span style="color:#A31515;"> 创建软链接</span></span>
<span class="line"><span style="color:#795E26;">-f</span><span style="color:#A31515;"> 强制执行</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ip" tabindex="-1"><a class="header-anchor" href="#ip"><span>ip</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">curl</span><span style="color:#A31515;"> ip.sb</span><span style="color:#008000;"> # 只显示ipv4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">curl</span><span style="color:#A31515;"> cip.cc</span><span style="color:#008000;"> #显示ipv4和地址信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">ifconfig</span><span style="color:#0000FF;"> -a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">apt-get</span><span style="color:#A31515;"> install</span><span style="color:#A31515;"> vim</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="source" tabindex="-1"><a class="header-anchor" href="#source"><span>source</span></a></h3><p>source ~/.bashrc</p><p>source：使当前shell读入路径为filepath的shell文件并依次执行文件中的所有语句，通常用于重新执行刚修改的初始化文件，使之立即生效，而不必注销并重新登录</p><h3 id="查看日志" tabindex="-1"><a class="header-anchor" href="#查看日志"><span>查看日志</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span>1、进入vim编辑模式：vim filename</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2、输入“/关键字”,按enter键查找</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3、查找下一个，按“n”即可</span></span>
<span class="line"><span></span></span>
<span class="line"><span>退出：按ESC键后，接着再输入:号时，vi会在屏幕的最下方等待我们输入命令</span></span>
<span class="line"><span></span></span>
<span class="line"><span>wq! 保存退出</span></span>
<span class="line"><span></span></span>
<span class="line"><span>q! 不保存退出 </span></span>
<span class="line"><span></span></span>
<span class="line"><span>tail -n  +/行数 文件名 显示文件最后行数的内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span>tail -n 5 文件名 显示文件最后几行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>tail -n +5 文件名 从第5行开始到文件最后</span></span>
<span class="line"><span></span></span>
<span class="line"><span>tail -100f test.log      实时监控100行日志 等同于 tail -n 100 -f 文件名</span></span>
<span class="line"><span></span></span>
<span class="line"><span>tail notes.log         # 默认显示最后 10 行</span></span>
<span class="line"><span></span></span>
<span class="line"><span>head -n100 catalina.log # 查询日志文件中的头10行日志;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>sed -n “92,112p” catalina.log</span></span>
<span class="line"><span></span></span>
<span class="line"><span>sed -n “开始行,结束行p” 文件名 查看文件多少行到多少行内容</span></span>
<span class="line"><span></span></span>
<span class="line"><span>head与之相反</span></span>
<span class="line"><span></span></span>
<span class="line"><span>grep &#39;搜索词&#39; 文件名</span></span>
<span class="line"><span></span></span>
<span class="line"><span>vi 文件名 | grep &#39;搜索词&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>more/ cat 文件名</span></span>
<span class="line"><span></span></span>
<span class="line"><span>日期查询日志</span></span>
<span class="line"><span>sed -n &#39;/2014-12-17 16:17:20/,/2014-12-17 16:17:36/p&#39;  test.log</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>tail -100 文件名 查看log</span></span>
<span class="line"><span></span></span>
<span class="line"><span>##文本操作</span></span>
<span class="line"><span>sed &quot;s/查找字段/替换字段/g&quot; 全局替换</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="export" tabindex="-1"><a class="header-anchor" href="#export"><span>export</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#0000FF;">export</span><span style="color:#000000;"> 设置环境变量</span></span>
<span class="line"></span>
<span class="line"><span style="color:#0000FF;">export</span><span style="color:#0000FF;"> -p</span><span style="color:#000000;"> 查看 </span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">设置path变量</span><span style="color:#A31515;"> 以:分隔</span></span>
<span class="line"></span>
<span class="line"><span style="color:#0000FF;">export</span><span style="color:#001080;"> PATH</span><span style="color:#000000;">=</span><span style="color:#A31515;">&quot;/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/maven/bin:/var/jenkins_home/tools/hudson.model.JDK/jdk8/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">windows中通过set命令设置环境变量</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="curl" tabindex="-1"><a class="header-anchor" href="#curl"><span>curl</span></a></h3>`,23),u={href:"https://www.cnblogs.com/lxyit/p/9173842.html",target:"_blank",rel:"noopener noreferrer"},b=e(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#008000;"># http请求shell命令</span></span>
<span class="line"><span style="color:#008000;"># 将响应数据写道文件中</span></span>
<span class="line"><span style="color:#795E26;">curl</span><span style="color:#0000FF;"> -o</span><span style="color:#A31515;"> 文件名</span><span style="color:#A31515;"> 请求资源地址</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="进程" tabindex="-1"><a class="header-anchor" href="#进程"><span>进程</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#008000;"># 查看进程信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">ps</span><span style="color:#0000FF;"> -aux</span><span style="color:#000000;"> | </span><span style="color:#795E26;">grep</span><span style="color:#A31515;"> 端口号</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># 查看tcp、udp等网络端口号、pid信息</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">netstat</span><span style="color:#0000FF;"> -tunlp</span><span style="color:#000000;"> | </span><span style="color:#795E26;">端口号</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">ps</span><span style="color:#0000FF;"> -ef</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">top</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="kill" tabindex="-1"><a class="header-anchor" href="#kill"><span>kill</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">kill</span><span style="color:#0000FF;"> -1/hub</span><span style="color:#A31515;"> pid</span><span style="color:#A31515;"> 重新加载进程</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">kill</span><span style="color:#0000FF;"> -9/kill</span><span style="color:#A31515;"> pid</span><span style="color:#A31515;"> 强制杀掉进程</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">kill</span><span style="color:#0000FF;"> -15</span><span style="color:#A31515;"> pid</span><span style="color:#A31515;"> 正常停止进程</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sh文件格式" tabindex="-1"><a class="header-anchor" href="#sh文件格式"><span>sh文件格式</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span>#! /bin/bash </span></span>
<span class="line"><span></span></span>
<span class="line"><span>ls</span></span>
<span class="line"><span>pwd</span></span>
<span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="系统相关" tabindex="-1"><a class="header-anchor" href="#系统相关"><span>系统相关</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">service</span></span>
<span class="line"><span style="color:#795E26;">systemctl</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># service 重启mysql</span></span>
<span class="line"><span style="color:#795E26;">service</span><span style="color:#A31515;"> mysqld/mysql</span><span style="color:#A31515;"> restart</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># /etc/init.d/mysqld restart</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重启宝塔" tabindex="-1"><a class="header-anchor" href="#重启宝塔"><span>重启宝塔</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#008000;">#停止</span></span>
<span class="line"><span style="color:#795E26;">/etc/init.d/bt</span><span style="color:#A31515;"> stop</span></span>
<span class="line"><span style="color:#008000;">#启动</span></span>
<span class="line"><span style="color:#795E26;">/etc/init.d/bt</span><span style="color:#A31515;"> start</span></span>
<span class="line"><span style="color:#008000;">#重启</span></span>
<span class="line"><span style="color:#795E26;">/etc/init.d/bt</span><span style="color:#A31515;"> restart</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="linux系统" tabindex="-1"><a class="header-anchor" href="#linux系统"><span>linux系统</span></a></h2>`,12),m={href:"https://blog.csdn.net/believe36/article/details/44133889",target:"_blank",rel:"noopener noreferrer"},y=s("h3",{id:"命名空间与虚拟化",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#命名空间与虚拟化"},[s("span",null,"命名空间与虚拟化")])],-1),h=s("h3",{id:"磁盘与分区挂载",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#磁盘与分区挂载"},[s("span",null,"磁盘与分区挂载")])],-1),F={href:"https://blog.csdn.net/lihongbao80/article/details/103808305",target:"_blank",rel:"noopener noreferrer"},g={href:"https://blog.csdn.net/hj19870806/article/details/7696026",target:"_blank",rel:"noopener noreferrer"},x=e(`<p>在LVM中PE(Physical Extend)是卷的最小单位，默认4M大小，就像我们的数据是以页的形式存储一样，</p><p>卷就是以PE的形式存储。PV(Physical Volume)是物理卷，如果要使用逻辑卷，首先第一步操作就是将物理磁盘或者物理分区格式化成PV，</p><p>格式化之后PV就可以为逻辑卷提供PE了。VG(Volume Group)是卷组，VG就是将很多PE组合在一起生成一个卷组，当然这里的PE是可以跨磁盘的，</p><p>如果当前服务器磁盘空间不足就可以增加一个新磁盘对当前系统不会产生任何影响。LV(Logical Volume)是逻辑卷，逻辑卷最终是给用户使用的，</p><p>前面几个都是为创建逻辑卷做的准备，创建逻辑卷的大小只要不超过VG剩余空间就可以。</p><ul><li>磁盘 物理分区 逻辑分区</li><li>lvm逻辑卷 PE(Physical Extend)卷的最小单位 PV(Physical Volume)是物理卷 VG(Volume Group)是卷组 LV(Logical Volume)是逻辑卷</li><li>Linux LVM（逻辑卷管理器）</li></ul><blockquote><p>gpt与mbr</p></blockquote><blockquote><p>使用逻辑卷</p></blockquote><p>将物理设备（可以是物理磁盘/dev/sdb、也可以是物理分区/dev/sdb1）格式化为PV（物理卷）</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#008000;"># 使用 pvcreate 命令将/dev/sdb1和/dev/sdc格式化成PV：</span></span>
<span class="line"><span style="color:#795E26;">pvcreate</span><span style="color:#A31515;"> /dev/sdb1</span><span style="color:#A31515;"> /dev/sdc</span><span style="color:#000000;"> </span></span>
<span class="line"><span style="color:#008000;"># 如果创建时报错磁盘不存在，执行partprobe</span></span>
<span class="line"><span style="color:#795E26;">partprobe</span></span>
<span class="line"><span style="color:#008000;"># 使用 pvremove 命令删除物理卷：</span></span>
<span class="line"><span style="color:#795E26;">pvremove</span><span style="color:#A31515;"> /dev/sdc</span><span style="color:#000000;"> </span></span>
<span class="line"><span style="color:#795E26;">pvs</span><span style="color:#A31515;"> 展示卷信息</span></span>
<span class="line"><span style="color:#795E26;">pvdisplay</span><span style="color:#A31515;"> 展示卷信息</span></span>
<span class="line"><span style="color:#008000;"># 使用 vgcreate 命令来创建VG（卷组）</span></span>
<span class="line"><span style="color:#008000;"># vgcreate是创建命令myvg是这个VG组的名称，/dev/sdb1是指将这个已经初始化成PV的设备添加套这个卷组中，如果需要添加多个设备使用空格分隔。</span></span>
<span class="line"><span style="color:#795E26;">vgcreate</span><span style="color:#A31515;">  myvg</span><span style="color:#A31515;"> /dev/sdb1</span><span style="color:#000000;"> </span></span>
<span class="line"><span style="color:#008000;"># 使用 vgdisplay 或者 vgs 命令查看卷组信息：</span></span>
<span class="line"><span style="color:#795E26;">vgdisplay</span><span style="color:#000000;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># vgremove 命令删除卷组</span></span>
<span class="line"><span style="color:#795E26;">vgremove</span><span style="color:#A31515;"> myvg</span></span>
<span class="line"><span style="color:#008000;"># 使用 lvcreate -n 逻辑卷名称 -l 逻辑卷PE数 卷组名 命令来创建逻辑卷：</span></span>
<span class="line"><span style="color:#795E26;">lvcreate</span><span style="color:#0000FF;"> -n</span><span style="color:#A31515;"> mylv</span><span style="color:#0000FF;"> -l</span><span style="color:#098658;"> 5119</span><span style="color:#A31515;">  myvg</span><span style="color:#000000;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># 使用 lvdisplay 或者 lvs 命令查看逻辑卷信息：</span></span>
<span class="line"><span style="color:#795E26;">lvdisplay</span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># lvremove /dev/myvg/mylv 命令删除逻辑卷</span></span>
<span class="line"><span style="color:#008000;"># 逻辑卷在操作系统中映射的文件的据对路径为&quot;/dev/myvg/mylv&quot;，但是一般逻辑卷会在&quot;/dev/mapper&quot;目录下面创建一个软连接&quot;/dev/mapper/myvg-mylv&quot;，软连接名称为卷组名称加-再加上逻辑卷名称。</span></span>
<span class="line"><span style="color:#795E26;">lvremove</span><span style="color:#A31515;"> /dev/myvg/mylv</span><span style="color:#000000;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#008000;"># 格式化分区和挂载分区与上面fdisk分区中的方法一样:</span></span>
<span class="line"><span style="color:#008000;"># 这个逻辑卷和物理分区一样，需要先格式化成合适的文件系统，然后挂载到某一个目录上就可以了，格式化分区和挂载分区与上面fdisk分区中的方法一样:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">mkfs</span><span style="color:#0000FF;"> -t</span><span style="color:#A31515;"> xfs</span><span style="color:#A31515;"> /dev/myvg/mylv</span><span style="color:#000000;"> </span></span>
<span class="line"><span style="color:#795E26;">mount</span><span style="color:#A31515;"> /dev/myvg/mylv</span><span style="color:#A31515;"> /data/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置网络" tabindex="-1"><a class="header-anchor" href="#配置网络"><span>配置网络</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span style="color:#795E26;">service</span><span style="color:#A31515;"> network</span><span style="color:#A31515;"> restart/status/start/stop</span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">systemctl</span><span style="color:#A31515;"> start</span><span style="color:#A31515;"> network</span><span style="color:#000000;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#795E26;">vi</span><span style="color:#A31515;"> /etc/sysconfig/network-scripts/ifcfg-ens160/0/33</span><span style="color:#000000;"> </span></span>
<span class="line"><span style="color:#001080;">TYPE</span><span style="color:#000000;">=</span><span style="color:#A31515;">Ethernet</span></span>
<span class="line"><span style="color:#001080;">PROXY_METHOD</span><span style="color:#000000;">=</span><span style="color:#A31515;">none</span></span>
<span class="line"><span style="color:#001080;">BROWSER_ONLY</span><span style="color:#000000;">=</span><span style="color:#A31515;">no</span></span>
<span class="line"><span style="color:#001080;">BOOTPROTO</span><span style="color:#000000;">=</span><span style="color:#A31515;">static</span><span style="color:#008000;"> # 设置IP地址获取方式 dhcp/static</span></span>
<span class="line"><span style="color:#001080;">DEFROUTE</span><span style="color:#000000;">=</span><span style="color:#A31515;">yes</span></span>
<span class="line"><span style="color:#001080;">IPV4_FAILURE_FATAL</span><span style="color:#000000;">=</span><span style="color:#A31515;">no</span></span>
<span class="line"><span style="color:#001080;">IPV6INIT</span><span style="color:#000000;">=</span><span style="color:#A31515;">yes</span></span>
<span class="line"><span style="color:#001080;">IPV6_AUTOCONF</span><span style="color:#000000;">=</span><span style="color:#A31515;">yes</span></span>
<span class="line"><span style="color:#001080;">IPV6_DEFROUTE</span><span style="color:#000000;">=</span><span style="color:#A31515;">yes</span></span>
<span class="line"><span style="color:#001080;">IPV6_FAILURE_FATAL</span><span style="color:#000000;">=</span><span style="color:#A31515;">no</span></span>
<span class="line"><span style="color:#001080;">NAME</span><span style="color:#000000;">=</span><span style="color:#A31515;">ens160</span></span>
<span class="line"><span style="color:#001080;">UUID</span><span style="color:#000000;">=</span><span style="color:#A31515;">cd004d8e-b7ca-4d5d-93b9-c18c1459c602</span></span>
<span class="line"><span style="color:#001080;">DEVICE</span><span style="color:#000000;">=</span><span style="color:#A31515;">ens160</span></span>
<span class="line"><span style="color:#001080;">ONBOOT</span><span style="color:#000000;">=</span><span style="color:#A31515;">yes</span><span style="color:#795E26;"> 开启网络</span></span>
<span class="line"><span style="color:#001080;">IPADDR</span><span style="color:#000000;">=</span><span style="color:#A31515;">192.168.3.91</span><span style="color:#008000;"> # 配置静态ip</span></span>
<span class="line"><span style="color:#001080;">GATEWAY</span><span style="color:#000000;">=</span><span style="color:#A31515;">192.168.3.1</span><span style="color:#008000;"> # 网关</span></span>
<span class="line"><span style="color:#001080;">NETMASK</span><span style="color:#000000;">=</span><span style="color:#A31515;">255.255.255.0</span></span>
<span class="line"><span style="color:#001080;">DNS1</span><span style="color:#000000;">=</span><span style="color:#A31515;">192.168.3.1</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12);function A(E,k){const a=p("ExternalLinkIcon");return c(),o("div",null,[t,s("p",null,[n("cmake、make、make install、./configure,"),s("a",d,[n("参考"),l(a)])]),v,s("p",null,[s("a",u,[n("参考"),l(a)])]),b,s("p",null,[s("a",m,[n("参考"),l(a)])]),y,h,s("p",null,[s("a",F,[n("参考"),l(a)])]),s("p",null,[s("a",g,[n("参考"),l(a)])]),x])}const P=i(r,[["render",A],["__file","linux.html.vue"]]),V=JSON.parse('{"path":"/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/linux.html","title":"linux","lang":"zh-CN","frontmatter":{"description":"linux 命令 用户、组、权限 组名称在 /etc/group 文件中，这是一个存储系统中所有组信息的文本文件。每行代表一个组，格式为 groupname:password:GID:list_of_members 如 hj❌1000: 用户信息在 /etc/passwd中 格式为 用户名:密码:用户标识号:主组标识:用户信息:用户家目录:/bin/b...","head":[["meta",{"property":"og:url","content":"https://wherywan.github.io/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/linux.html"}],["meta",{"property":"og:site_name","content":"HONG_JI"}],["meta",{"property":"og:title","content":"linux"}],["meta",{"property":"og:description","content":"linux 命令 用户、组、权限 组名称在 /etc/group 文件中，这是一个存储系统中所有组信息的文本文件。每行代表一个组，格式为 groupname:password:GID:list_of_members 如 hj❌1000: 用户信息在 /etc/passwd中 格式为 用户名:密码:用户标识号:主组标识:用户信息:用户家目录:/bin/b..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-02T09:01:10.000Z"}],["meta",{"property":"article:author","content":"wanhongji"}],["meta",{"property":"article:modified_time","content":"2024-08-02T09:01:10.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"linux\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-08-02T09:01:10.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"wanhongji\\"}]}"]]},"headers":[{"level":2,"title":"命令","slug":"命令","link":"#命令","children":[{"level":3,"title":"用户、组、权限","slug":"用户、组、权限","link":"#用户、组、权限","children":[]},{"level":3,"title":"编译相关命令","slug":"编译相关命令","link":"#编译相关命令","children":[]},{"level":3,"title":"free","slug":"free","link":"#free","children":[]},{"level":3,"title":"根据端口查看服务","slug":"根据端口查看服务","link":"#根据端口查看服务","children":[]},{"level":3,"title":"解压","slug":"解压","link":"#解压","children":[]},{"level":3,"title":"设置环境变量","slug":"设置环境变量","link":"#设置环境变量","children":[]},{"level":3,"title":"sed","slug":"sed","link":"#sed","children":[]},{"level":3,"title":"ln","slug":"ln","link":"#ln","children":[]},{"level":3,"title":"ip","slug":"ip","link":"#ip","children":[]},{"level":3,"title":"source","slug":"source","link":"#source","children":[]},{"level":3,"title":"查看日志","slug":"查看日志","link":"#查看日志","children":[]},{"level":3,"title":"export","slug":"export","link":"#export","children":[]},{"level":3,"title":"curl","slug":"curl","link":"#curl","children":[]},{"level":3,"title":"进程","slug":"进程","link":"#进程","children":[]},{"level":3,"title":"kill","slug":"kill","link":"#kill","children":[]},{"level":3,"title":"sh文件格式","slug":"sh文件格式","link":"#sh文件格式","children":[]},{"level":3,"title":"系统相关","slug":"系统相关","link":"#系统相关","children":[]},{"level":3,"title":"重启宝塔","slug":"重启宝塔","link":"#重启宝塔","children":[]}]},{"level":2,"title":"linux系统","slug":"linux系统","link":"#linux系统","children":[{"level":3,"title":"命名空间与虚拟化","slug":"命名空间与虚拟化","link":"#命名空间与虚拟化","children":[]},{"level":3,"title":"磁盘与分区挂载","slug":"磁盘与分区挂载","link":"#磁盘与分区挂载","children":[]},{"level":3,"title":"配置网络","slug":"配置网络","link":"#配置网络","children":[]}]}],"git":{"createdTime":1652185847000,"updatedTime":1722589270000,"contributors":[{"name":"wanhongji","email":"wherywan@163.com","commits":15},{"name":"wanhongji","email":"wan_hongji@163.com","commits":3},{"name":"wanhongji","email":"wheywan@163.com","commits":1}]},"readingTime":{"minutes":5.9,"words":1769},"filePathRelative":"note/服务器环境/linux.md","localizedDate":"2022年5月10日","excerpt":"\\n<h2>命令</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"shiki light-plus\\" style=\\"background-color:#FFFFFF;color:#000000\\" tabindex=\\"0\\"><code><span class=\\"line\\"><span style=\\"color:#008000\\"># 多命令</span></span>\\n<span class=\\"line\\"><span style=\\"color:#795E26\\">ls</span><span style=\\"color:#000000\\">;</span><span style=\\"color:#795E26\\">ls</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"color:#008000\\">#查看文件位置</span></span>\\n<span class=\\"line\\"><span style=\\"color:#795E26\\">find</span><span style=\\"color:#A31515\\"> /</span><span style=\\"color:#0000FF\\"> -name</span><span style=\\"color:#A31515\\"> \\"my.cnf\\"</span></span>\\n<span class=\\"line\\"></span></code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{P as comp,V as data};
