import{u as U,f as te,g as Ee,h as Y,i as le,P as se,j as ne,k as oe,l as S,m as w,n as ae,w as M,p as E,q as Ae,R as _,s as re,v as Be,x as ie,C as ue,y as he,z as me,A as ce,B as ve,D as pe,E as De,F as ye,G as O,H as T,I as de,J as C,K as Fe}from"./app-hoN0JGLf.js";const ge=["/","/note/FAQ.html","/note/career.html","/note/learning_graph.html","/note/%E7%A0%B4%E8%A7%A3.html","/note/%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83%E4%BF%A1%E6%81%AF.html","/note/AI/conda.html","/note/algorithm/%E5%85%B1%E8%AF%86%E7%AE%97%E6%B3%95.html","/note/cSharp/cSharp.html","/note/go/go.html","/note/go/pkg.html","/note/go/web.html","/note/go/%E5%B9%B6%E5%8F%91.html","/note/java/Executors.html","/note/java/interview.html","/note/java/java.html","/note/java/javaassist.html","/note/java/jvm.html","/note/java/lambda.html","/note/java/question.html","/note/java/unsafe.html","/note/rust/rust.html","/note/security/ServerHttpSecurity%E4%B8%8EhttpSecurity.html","/note/security/security.html","/note/spring/spring.html","/note/spring/spring_gateway.html","/note/spring/springcloud.html","/note/spring/spring%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D.html","/note/spring/webflux.html","/note/web/Devops.html","/note/web/async.html","/note/web/camunda.html","/note/web/config.html","/note/web/context.html","/note/web/dsl.html","/note/web/feign.html","/note/web/file.html","/note/web/http.html","/note/web/javaSE.html","/note/web/jsqlparser.html","/note/web/key.html","/note/web/mock.html","/note/web/multipleDatasource.html","/note/web/regex.html","/note/web/rpc.html","/note/web/script.html","/note/web/servlet%E4%B8%8Ejsp.html","/note/web/task.html","/note/web/transaction.html","/note/web/tree.html","/note/web/web%E6%9C%8D%E5%8A%A1%E5%99%A8.html","/note/web/workflow.html","/note/web/%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98.html","/note/web/%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86%E8%84%B1%E6%95%8F.html","/note/web/%E7%99%BB%E5%BD%95.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/dubbo.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/easy-orm.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/es.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/flink.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/hikari.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/mqtt.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/mybatis.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/mybatisplus.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/nacos.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/orm%E6%A1%86%E6%9E%B6.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/rabbitmq.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/redis.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/redisson.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/rocketmq.html","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5.html","/note/%E5%89%8D%E7%AB%AF/flutter.html","/note/%E5%89%8D%E7%AB%AF/javascript.html","/note/%E5%89%8D%E7%AB%AF/jquery.html","/note/%E5%89%8D%E7%AB%AF/less.html","/note/%E5%89%8D%E7%AB%AF/nodejs.html","/note/%E5%89%8D%E7%AB%AF/package.html","/note/%E5%89%8D%E7%AB%AF/react.html","/note/%E5%89%8D%E7%AB%AF/router.html","/note/%E5%89%8D%E7%AB%AF/thymeleaf.html","/note/%E5%89%8D%E7%AB%AF/typescript.html","/note/%E5%89%8D%E7%AB%AF/vue.html","/note/%E5%A4%A7%E6%95%B0%E6%8D%AE/doris.html","/note/%E5%BA%94%E7%94%A8%E6%96%B9%E6%A1%88/wechat.html","/note/%E5%BA%94%E7%94%A8%E6%96%B9%E6%A1%88/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1.html","/note/%E5%BA%94%E7%94%A8%E6%96%B9%E6%A1%88/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html","/note/%E5%BA%94%E7%94%A8%E6%96%B9%E6%A1%88/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83.html","/note/%E5%BA%94%E7%94%A8%E6%96%B9%E6%A1%88/%E8%8F%9C%E5%8D%95.html","/note/%E6%95%B0%E6%8D%AE%E5%BA%93/lindorm.html","/note/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql.html","/note/%E6%95%B0%E6%8D%AE%E5%BA%93/sql.html","/note/%E6%95%B0%E6%8D%AE%E5%BA%93/store.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/build.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/docker.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/docker%E5%AE%B9%E5%99%A8%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/gitUse.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/jvm.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/k8s.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/linux.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/maven%E4%BB%93%E5%BA%93.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/nginx.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/npm.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/pipeline.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/shell.html","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/%E7%BA%BF%E4%B8%8A%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86.html","/note/%E6%9E%B6%E6%9E%84/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html","/note/%E6%9E%B6%E6%9E%84/%E7%B3%BB%E7%BB%9F%E6%A1%86%E6%9E%B6%E7%9F%A5%E8%AF%86.html","/note/%E6%9E%B6%E6%9E%84/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html","/note/%E7%89%A9%E8%81%94%E7%BD%91/emqx.html","/note/%E7%89%A9%E8%81%94%E7%BD%91/iot.html","/note/%E7%89%A9%E8%81%94%E7%BD%91/jetlinks.html","/note/%E7%89%A9%E8%81%94%E7%BD%91/modbus.html","/note/%E7%89%A9%E8%81%94%E7%BD%91/vertx.html","/note/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/apacheClient.html","/note/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/netty.html","/note/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/websocket.html","/note/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E5%8D%8F%E8%AE%AE.html","/note/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1.html","/note/business/cwms/%E4%B8%9A%E5%8A%A1.html","/note/business/techsel/report.html","/note/business/techsel/%E5%B7%A5%E6%8E%A7%E6%9C%BA.html","/note/business/techsel/%E6%B8%A9%E5%B7%9E%E8%83%BD%E8%80%97%E4%B8%8A%E6%8A%A5.html","/note/business/techsel/%E7%99%BD%E9%93%B6%E9%AB%98%E9%93%81%E9%A1%B9%E7%9B%AE.html","/note/business/techsel/iot/iot%E5%B9%B3%E5%8F%B0%E9%97%AE%E9%A2%98.html","/note/business/techsel/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83.html","/note/business/techsel/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3.html","/note/business/techsel/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83%E9%97%AE%E9%A2%98.html","/note/business/techsel/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83%E4%BF%A1%E6%81%AF.html","/404.html","/note/","/note/AI/","/note/algorithm/","/note/cSharp/","/note/go/","/note/java/","/note/rust/","/note/security/","/note/spring/","/note/web/","/note/%E4%B8%AD%E9%97%B4%E4%BB%B6/","/note/%E5%89%8D%E7%AB%AF/","/note/%E5%A4%A7%E6%95%B0%E6%8D%AE/","/note/%E5%BA%94%E7%94%A8%E6%96%B9%E6%A1%88/","/note/%E6%95%B0%E6%8D%AE%E5%BA%93/","/note/%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8E%AF%E5%A2%83/","/note/%E6%9E%B6%E6%9E%84/","/note/%E7%89%A9%E8%81%94%E7%BD%91/","/note/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/","/note/business/cwms/","/note/business/","/note/business/techsel/","/note/business/techsel/iot/","/note/business/techsel/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83/","/category/","/category/faq/","/category/spring/","/category/web/","/tag/","/tag/faq/","/article/","/star/","/timeline/"],be="SEARCH_PRO_QUERY_HISTORY",p=U(be,[]),we=()=>{const{queryHistoryCount:l}=C,s=l>0;return{enabled:s,queryHistory:p,addQueryHistory:n=>{s&&(p.value=Array.from(new Set([n,...p.value.slice(0,l-1)])))},removeQueryHistory:n=>{p.value=[...p.value.slice(0,n),...p.value.slice(n+1)]}}},Q=l=>ge[l.id]+("anchor"in l?`#${l.anchor}`:""),Ce="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:$}=C,D=U(Ce,[]),fe=()=>{const l=$>0;return{enabled:l,resultHistory:D,addResultHistory:s=>{if(l){const n={link:Q(s),display:s.display};"header"in s&&(n.header=s.header),D.value=[n,...D.value.slice(0,$-1)]}},removeResultHistory:s=>{D.value=[...D.value.slice(0,s),...D.value.slice(s+1)]}}},ke=l=>{const s=ue(),n=Y(),f=he(),a=S(0),F=w(()=>a.value>0),m=me([]);return ce(()=>{const{search:c,terminate:k}=ve(),y=de(B=>{const d=B.join(" "),{searchFilter:q=h=>h,splitWord:H,suggestionsFilter:L,...v}=s.value;d?(a.value+=1,c(B.join(" "),n.value,v).then(h=>q(h,d,n.value,f.value)).then(h=>{a.value-=1,m.value=h}).catch(h=>{console.warn(h),a.value-=1,a.value||(m.value=[])})):m.value=[]},C.searchDelay-C.suggestDelay);M([l,n],([B])=>y(B),{immediate:!0}),pe(()=>{k()})}),{isSearching:F,results:m}};var He=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(l,{emit:s}){const n=Ee(),f=Y(),a=le(se),{enabled:F,addQueryHistory:m,queryHistory:c,removeQueryHistory:k}=we(),{enabled:y,resultHistory:B,addResultHistory:d,removeResultHistory:q}=fe(),H=F||y,L=ne(l,"queries"),{results:v,isSearching:h}=ke(L),o=oe({isQuery:!0,index:0}),i=S(0),u=S(0),I=w(()=>H&&(c.value.length>0||B.value.length>0)),j=w(()=>v.value.length>0),x=w(()=>v.value[i.value]||null),z=()=>{const{isQuery:e,index:t}=o;t===0?(o.isQuery=!e,o.index=e?B.value.length-1:c.value.length-1):o.index=t-1},G=()=>{const{isQuery:e,index:t}=o;t===(e?c.value.length-1:B.value.length-1)?(o.isQuery=!e,o.index=0):o.index=t+1},J=()=>{i.value=i.value>0?i.value-1:v.value.length-1,u.value=x.value.contents.length-1},K=()=>{i.value=i.value<v.value.length-1?i.value+1:0,u.value=0},V=()=>{u.value<x.value.contents.length-1?u.value+=1:K()},N=()=>{u.value>0?u.value-=1:J()},R=e=>e.map(t=>Fe(t)?t:E(t[0],t[1])),W=e=>{if(e.type==="customField"){const t=De[e.index]||"$content",[A,b=""]=ye(t)?t[f.value].split("$content"):t.split("$content");return e.display.map(r=>E("div",R([A,...r,b])))}return e.display.map(t=>E("div",R(t)))},g=()=>{i.value=0,u.value=0,s("updateQuery",""),s("close")},X=()=>F?E("ul",{class:"search-pro-result-list"},E("li",{class:"search-pro-result-list-item"},[E("div",{class:"search-pro-result-title"},a.value.queryHistory),c.value.map((e,t)=>E("div",{class:["search-pro-result-item",{active:o.isQuery&&o.index===t}],onClick:()=>{s("updateQuery",e)}},[E(O,{class:"search-pro-result-type"}),E("div",{class:"search-pro-result-content"},e),E("button",{class:"search-pro-remove-icon",innerHTML:T,onClick:A=>{A.preventDefault(),A.stopPropagation(),k(t)}})]))])):null,Z=()=>y?E("ul",{class:"search-pro-result-list"},E("li",{class:"search-pro-result-list-item"},[E("div",{class:"search-pro-result-title"},a.value.resultHistory),B.value.map((e,t)=>E(_,{to:e.link,class:["search-pro-result-item",{active:!o.isQuery&&o.index===t}],onClick:()=>{g()}},()=>[E(O,{class:"search-pro-result-type"}),E("div",{class:"search-pro-result-content"},[e.header?E("div",{class:"content-header"},e.header):null,E("div",e.display.map(A=>R(A)).flat())]),E("button",{class:"search-pro-remove-icon",innerHTML:T,onClick:A=>{A.preventDefault(),A.stopPropagation(),q(t)}})]))])):null;return ae("keydown",e=>{if(l.isFocusing){if(j.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")V();else if(e.key==="Enter"){const t=x.value.contents[u.value];m(l.queries.join(" ")),d(t),n.push(Q(t)),g()}}else if(y){if(e.key==="ArrowUp")z();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const{index:t}=o;o.isQuery?(s("updateQuery",c.value[t]),e.preventDefault()):(n.push(B.value[t].link),g())}}}}),M([i,u],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>E("div",{class:["search-pro-result-wrapper",{empty:l.queries.length?!j.value:!I.value}],id:"search-pro-results"},l.queries.length?h.value?E(Ae,{hint:a.value.searching}):j.value?E("ul",{class:"search-pro-result-list"},v.value.map(({title:e,contents:t},A)=>{const b=i.value===A;return E("li",{class:["search-pro-result-list-item",{active:b}]},[E("div",{class:"search-pro-result-title"},e||a.value.defaultTitle),t.map((r,ee)=>{const P=b&&u.value===ee;return E(_,{to:Q(r),class:["search-pro-result-item",{active:P,"aria-selected":P}],onClick:()=>{m(l.queries.join(" ")),d(r),g()}},()=>[r.type==="text"?null:E(r.type==="title"?re:r.type==="heading"?Be:ie,{class:"search-pro-result-type"}),E("div",{class:"search-pro-result-content"},[r.type==="text"&&r.header?E("div",{class:"content-header"},r.header):null,E("div",W(r))])])})])})):a.value.emptyResult:H?I.value?[X(),Z()]:a.value.emptyHistory:a.value.emptyResult)}});export{He as default};
