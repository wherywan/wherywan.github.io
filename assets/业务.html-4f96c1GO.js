import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as s,e as a}from"./app-hoN0JGLf.js";const p={},t=a(`<h1 id="c-wms" tabindex="-1"><a class="header-anchor" href="#c-wms"><span>C-WMS</span></a></h1><p>租户、仓库、货主、权限表的设计</p><p>租户、仓库、货主、权限表的设计，菜单表，按钮元素表</p><p>1、用户表、租户表的关系</p><p>​ 创建租户后，再创建对应用户，并更新租户表中的owner字段表示用户是租户管理员，</p><p>​ 同时创建租户所属的角色或组</p><p>2、仓库和货主，使用关系表维护仓库货主间的多对多关系</p><p>​ 租户账号登录企业中台创建仓库和货主，货主绑定仓库</p><p>3、菜单表和权限表，通过authority_id区分权限是可下发的还是租户所属角色权限还是租户模板权限</p><p>​ base_app_authority存放应用下发权限、base_resource_authority存放用户或租户权限，以group_id标识</p><p>4、租户模板修改的仍然是租户初始的角色权限，即租户所属的组权限</p><p>5、租户所属组以租户维护的编码和税号唯一标识,以角色或组id标识用户拥有的权限</p><p><strong>6、登录时，判断是超级租户或租户管理员或用户，从base_resource_authority获取权限</strong></p><p>递归获取子元素id或父元素id</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki light-plus" style="background-color:#FFFFFF;color:#000000;" tabindex="0"><code><span class="line"><span>getParentId()</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    查询父元素</span></span>
<span class="line"><span>    不为null</span></span>
<span class="line"><span>    	添加</span></span>
<span class="line"><span>    	getParentid()</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>getAllNode()</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    不为null</span></span>
<span class="line"><span>    return</span></span>
<span class="line"><span>    添加元素</span></span>
<span class="line"><span>    getALLNOde（左）</span></span>
<span class="line"><span>    getALLNOde（右）</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),i=[t];function l(r,o){return e(),s("div",null,i)}const m=n(p,[["render",l],["__file","业务.html.vue"]]),u=JSON.parse('{"path":"/note/business/cwms/%E4%B8%9A%E5%8A%A1.html","title":"C-WMS","lang":"zh-CN","frontmatter":{"description":"C-WMS 租户、仓库、货主、权限表的设计 租户、仓库、货主、权限表的设计，菜单表，按钮元素表 1、用户表、租户表的关系 ​ 创建租户后，再创建对应用户，并更新租户表中的owner字段表示用户是租户管理员， ​ 同时创建租户所属的角色或组 2、仓库和货主，使用关系表维护仓库货主间的多对多关系 ​ 租户账号登录企业中台创建仓库和货主，货主绑定仓库 3、菜...","head":[["meta",{"property":"og:url","content":"https://wherywan.github.io/note/business/cwms/%E4%B8%9A%E5%8A%A1.html"}],["meta",{"property":"og:site_name","content":"HONG_JI"}],["meta",{"property":"og:title","content":"C-WMS"}],["meta",{"property":"og:description","content":"C-WMS 租户、仓库、货主、权限表的设计 租户、仓库、货主、权限表的设计，菜单表，按钮元素表 1、用户表、租户表的关系 ​ 创建租户后，再创建对应用户，并更新租户表中的owner字段表示用户是租户管理员， ​ 同时创建租户所属的角色或组 2、仓库和货主，使用关系表维护仓库货主间的多对多关系 ​ 租户账号登录企业中台创建仓库和货主，货主绑定仓库 3、菜..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-08-31T18:31:46.000Z"}],["meta",{"property":"article:author","content":"wanhongji"}],["meta",{"property":"article:modified_time","content":"2022-08-31T18:31:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"C-WMS\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2022-08-31T18:31:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"wanhongji\\"}]}"]]},"headers":[],"git":{"createdTime":1654706857000,"updatedTime":1661970706000,"contributors":[{"name":"wanhongji","email":"wan_hongji@163.com","commits":1}]},"readingTime":{"minutes":1.09,"words":327},"filePathRelative":"note/business/cwms/业务.md","localizedDate":"2022年6月8日","excerpt":"\\n<p>租户、仓库、货主、权限表的设计</p>\\n<p>租户、仓库、货主、权限表的设计，菜单表，按钮元素表</p>\\n<p>1、用户表、租户表的关系</p>\\n<p>​\\t创建租户后，再创建对应用户，并更新租户表中的owner字段表示用户是租户管理员，</p>\\n<p>​\\t同时创建租户所属的角色或组</p>\\n<p>2、仓库和货主，使用关系表维护仓库货主间的多对多关系</p>\\n<p>​\\t租户账号登录企业中台创建仓库和货主，货主绑定仓库</p>\\n<p>3、菜单表和权限表，通过authority_id区分权限是可下发的还是租户所属角色权限还是租户模板权限</p>\\n<p>​\\tbase_app_authority存放应用下发权限、base_resource_authority存放用户或租户权限，以group_id标识</p>","autoDesc":true}');export{m as comp,u as data};
